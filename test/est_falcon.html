<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test FALCON-1024</title>
</head>
<body>
  <h1>Prueba básica de FALCON-1024 (firma)</h1>
  <p>Abre la consola del navegador para ver los resultados.</p>

  <script type="module">
    import signBuilder from '../FALCON1024/dist/pqc-sign-falcon-1024.js';

    async function testFalcon() {
      const sign = await signBuilder();  // crea la instancia (usa WASM)

      const encoder = new TextEncoder();
      const message = encoder.encode('Mensaje de prueba con FALCON-1024');

      const { publicKey, privateKey } = await sign.keypair();
      console.log('Llave pública FALCON:', publicKey);
      console.log('Llave privada FALCON:', privateKey);

      const { signature } = await sign.sign(message, privateKey);
      console.log('Firma FALCON:', signature);

      const validSignature = await sign.verify(signature, message, publicKey);
      console.log('¿Firma FALCON válida?:', validSignature);
    }

    testFalcon();
  </script>
</body>
</html>
